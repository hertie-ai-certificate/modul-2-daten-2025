---
title: "Tag 2: Big Data, Good Data? Die kritische Nutzung von Daten"
subtitle: "Session 7: Informierter Konsum von Daten und Statistiken"
author: "Simon Munzert"
institute: "Hertie School"
output:
  xaringan::moon_reader:
    includes:
      after_body: "../add_hertie_logo.html"
      in_header: "../my_header.html"
    css: [default,'../simons-touch.css', metropolis, metropolis-fonts] 
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
      ratio: '16:9'
      hash: true
---

```{css, echo=FALSE} 
@media print { # print out incremental slides; see https://stackoverflow.com/questions/56373198/get-xaringan-incremental-animations-to-print-to-pdf/56374619#56374619
  .has-continuation {
    display: block !important;
  }
}
```

```{r setup, include=FALSE}
# figures formatting setup
options(htmltools.dir.version = FALSE)
library(knitr)
opts_chunk$set(
  prompt = T,
  fig.align="center", #fig.width=6, fig.height=4.5, 
  # out.width="748px", #out.length="520.75px",
  dpi=300, #fig.path='Figs/',
  cache=T, #echo=F, warning=F, message=F
  engine.opts = list(bash = "-l")
  )

## Next hook based on this SO answer: https://stackoverflow.com/a/39025054
knit_hooks$set(
  prompt = function(before, options, envir) {
    options(
      prompt = if (options$engine %in% c('sh','bash')) '$ ' else 'R> ',
      continue = if (options$engine %in% c('sh','bash')) '$ ' else '+ '
      )
})

library(tidyverse)
library(hrbrthemes)
library(fontawesome)
```


# Inhaltsverzeichnis

<br><br>

1. [Deskriptive Statistik verstehen](#descriptives)

2. [Wahrscheinlichkeit verstehen](#probability)

3. [Statistische Signifikanz verstehen](#significance)

4. [Klassifikationsmetriken verstehen](#classification)


---
class: inverse, center, middle
name: descriptives

# Deskriptive Statistik verstehen
<html><div style='float:left'></div><hr color='#EB811B' size=1px style="width:1000px; margin:auto;"/></html>


---
# Deskriptive vs. Inferenzstatistik

.pull-left[
## Deskriptive Statistik
- Zusammenfassen und Beschreiben von Merkmalen einer Stichprobe oder Population
- Kann numerisch und visuell kommuniziert werden
- Unterschiedliche Skalen (Messniveaus) erfordern unterschiedliche deskriptive Statistiken
- Eine gute Beschreibung kann schwierig sein, wenn die Datenerfassung oder Messung komplex ist.
]

.pull-right[
## Inferenzstatistik
- Schlussfolgerungen √ºber eine Grundgesamtheit auf der Grundlage einer Stichprobe
- Es k√∂nnen R√ºckschl√ºsse auf Mittelwerte, Proportionen, Beziehungen usw. gezogen werden
- Kann numerisch und visuell kommuniziert werden
- Gute Beschreibung ist die Grundlage f√ºr gute Schlussfolgerungen
]

---
# Deskriptive vs. Inferenzstatistik

<div align="center">
<img src="../pics/descriptive-inferential.jpeg" width=1000>
</div>



---
# Ma√üe f√ºr zentrale Tendenz


.pull-left[
## Drei popul√§re Ma√üe f√ºr zentrale Tendenz

- **(Arithmetischer) Mittelwert**: Der **Durchschnitt** aller Werte in einem Datensatz
- **Median**: Der **mittlere** Wert eines Datensatzes
- **Modus**: Der **h√§ufigste** Wert in einem Datensatz

Warum ‚Äûzentrale Tendenz‚Äú? Beschreibt die Tendenz von quantitativen Daten, sich um einen zentralen Wert zu gruppieren.

## Probieren Sie es aus

Ermitteln Sie den Modus, den Median und den Mittelwert der folgenden Werte:

8, 2, 4, 2, 18, 6, 2
]

--

.pull-right[
## Welches Ma√ü ist zu verwenden?

- **Mittelwert**: Empfindlich gegen√ºber Ausrei√üern, aber intuitiv
- **Median**: Robust gegen√ºber Ausrei√üern, etwas weniger intuitiv
- **Modus**: N√ºtzlich f√ºr kategoriale Daten, kann aber bei kontinuierlichen Daten irref√ºhrend sein

## Verzerrte Verteilungen

<div align="center">
<img src="../pics/empirical-relation-between-mean-median-and-mode.png" width=1000>
</div>
]

---
# Ma√üe f√ºr zentrale Tendenz: Beispiele

.pull-left-center[
<div align="center">
<img src="../pics/distribution-bean-jar.png" width=400>
</div>

`Quelle` [David Spiegelhalter, The Art of Statistics](https://www.penguin.co.uk/books/294857/the-art-of-statistics-by-spiegelhalter-david/9780241258767)
]

.pull-right-center[
<div align="center">
<img src="../pics/average-median-income-rost.png" width=350>
</div>

`Quelle` [Lisa Muth, Datawrapper](https://blog.datawrapper.de/weekly-chart-income/)
]



---
# Streuungsma√ü

.pull-left[
## Warum brauchen wir Streuungsma√üe?
- Die zentrale Tendenz allein ist nicht aussagekr√§ftig f√ºr die Verteilung
- ‚ÄûWie weit streuen unsere Daten?‚Äú

## Drei g√§ngige Streuungsma√üe

- **Spannweite**: Die Differenz zwischen dem h√∂chsten und dem niedrigsten Wert in einem Datensatz
- **Varianz**: Der Durchschnitt der quadrierten Differenzen vom Mittelwert
- **Standardabweichung**: Die Quadratwurzel aus der Varianz

Formel zur Berechnung der Varianz: $\frac{\sum_{i=1}^{n} (x_i - \bar{x})^2}{n-1}$

Siehe [hier](https://seeing-theory.brown.edu/basic-probability/index.html#section3) f√ºr interaktive Intuition.
]

.pull-right[
## Warum ist das wichtig?

- Die meisten Menschen sind in der Tat nicht ‚Äûdurchschnittlich‚Äú. Variation kann eine Quelle f√ºr Einblicke in die zugrunde liegenden Prozesse sein
- Schl√ºsselma√ü f√ºr nachgelagerte Statistiken, z.B. der Standardfehler als Sch√§tzung der Unsicherheit einer Sch√§tzung

<div align="center">
<img src="../pics/normal-variations.png" width=450>
</div>
]


---
# Puzzle 1

.pull-left[
## Wie k√∂nnen alle der folgenden Punkte wahr sein?<sup>1</sup>

1. 80% der 100 prominentesten deutschen TikToker sind m√§nnlich.
2. Weibliche TikToker haben im Durchschnitt 500 Follower, m√§nnliche nur 300. 
3. Es gibt ungef√§hr gleich viele m√§nnliche und weibliche deutsche TikToker.
]

.pull-right[
<div align="center">
<img src="../pics/tiktok-germany.png" width=300>
</div>
]

.footnote[<sup>1</sup>‚ÄûWahr‚Äú im Sinne von ‚Äötheoretisch wahr‚Äò. Die Zahlen sind alle erfunden.]


---
# Puzzle 2

.pull-left-small[
## Wie k√∂nnen alle der folgenden Punkte wahr sein?<sup>1</sup>

1. An einer Universit√§t ist die Zulassungsquote in jedem der vier Fachbereiche f√ºr Frauen h√∂her als f√ºr M√§nner.
2. √úber alle Fachbereiche hinweg ist die Zulassungsquote bei den M√§nnern h√∂her.
]

.pull-right-wide[
<br>
<div align="center">
<img src="../pics/simpsons-paradox-georgia-adapted.png" width=600>
</div>
]




---
# Simpsons Paradoxon

.pull-left[
## Paradoxon erkl√§rt

- Einige Fachbereiche (C+D) waren umk√§mpfter als andere, und dort bewarben sich mehr Frauen.
- Die allgemeinen Zulassungsquoten und die Zulassungsquoten innerhalb eines Fachbereichs unterscheiden sich!
- Wenn wir die gruppierende Variable anpassen/kontrollieren, √§ndert sich die Beziehung zwischen den Variablen.

## Das Ph√§nomen, verallgemeinert

- Ein Trend erscheint in verschiedenen Datengruppen, verschwindet aber oder kehrt sich um, wenn diese Gruppen kombiniert werden.
- Auch bei Korrelationen m√∂glich (positive vs. negative Korrelation innerhalb vs. zwischen Gruppen).
]

.pull-right[
## Relevanz im Policy-Kontext

- Analyse von Mustern auf verschiedenen Ebenen (z.B. Region vs. Bund, Schulen vs. Schulbezirke)
- Wenn gruppeninterne Muster nicht ber√ºcksichtigt werden, k√∂nnten die politischen Schlussfolgerungen irref√ºhrend sein.

<div align="center">
<img src="../pics/simpsons-paradox-animation.gif" width=400>
</div>

`Quelle` [Wikipedia, "Simpson's paradox"](https://en.wikipedia.org/wiki/Simpson%27s_paradox)
]




---
class: inverse, center, middle
name: probability

# Wahrscheinlichkeit verstehen
<html><div style='float:left'></div><hr color='#EB811B' size=1px style="width:1000px; margin:auto;"/></html>


---
# Wahrscheinlichkeiten

.pull-left-wide[
## Was sind Wahrscheinlichkeiten?<sup>1</sup>

- Wahrscheinlichkeiten quantifizieren die M√∂glichkeit eines Ereignisses
- Wahrscheinlichkeiten liegen zwischen 0 und 1 (oder 0 und 100%)
- Wahrscheinlichkeiten k√∂nnen verbal oder numerisch kommuniziert werden

## Relevanz von Wahrscheinlichkeiten f√ºr politische Entscheidungen

Wahrscheinlichkeiten sind ...
- ... das Kernst√ºck der Risikobewertung und Entscheidungsfindung
- ... werden zur Quantifizierung von Unsicherheit verwendet
- ... zur Bewertung der Wirksamkeit von Ma√ünahmen
- ... eine Kernmetrik f√ºr AI-basierte Entscheidungssysteme

.footnote[<sup>1</sup>[Hier](https://bookdown.org/kevin_davisross/probsim-book) eine gute Einf√ºhrung in die Wahrscheinlichkeitsrechnung und Simulation.]
]

--

.pull-right-small[
<div align="center">
<img src="../pics/weather-forecast-tbilisi.png" width=400><br><br>
<img src="../pics/us-president-2024-odds.png" width=490><br><br>
<img src="../pics/classification-dog-plant.png" width=490>
</div>
]



---
# Marginale, bedingte und gemeinsame Wahrscheinlichkeiten

.pull-left[
## Randwahrscheinlichkeit
- Die Wahrscheinlichkeit des Eintretens eines Ereignisses: $p(A)$
- Unbedingte Wahrscheinlichkeit ist nicht von einem anderen Ereignis abh√§ngig
- üé≤ Beispiel: $p(\text{W√ºrfeln einer 5}) = 1/6$

## Bedingte Wahrscheinlichkeit
- Die Wahrscheinlichkeit, dass das Ereignis A eintritt, wenn das Ereignis B eintritt: $p(A|B)$
- Wichtig: Die Randwahrscheinlichkeit von B spielt hier keine Rolle!
- üé≤ Beispiel: $p(\text{W√ºrfeln einer 5|W√ºrfeln ungerader Zahl}) = 1/3$
]

.pull-right[
## Gemeinsame Wahrscheinlichkeit
- Die Wahrscheinlichkeit, dass Ereignis A und Ereignis B eintreten: $p(\text{A und B}) = p(A ‚à© B)$
- üé≤ Beispiel: $p(\text{W√ºrfeln einer 5 und einer geraden Zahl}) = 0$

<div align="center">
<img src="../pics/dice-roll-tree.png" width=490>
</div>
]




---
# Bedingte Wahrscheinlichkeiten


<div align="center">
<img src="../pics/conditional-probability-simulation.png" width=1100>
</div>

`Quelle` [Victor Powell, setosa.io](https://setosa.io/conditional/) (Siehe zur interaktiven Simulation)


---
# Puzzle 3

.pull-left[
## Wie k√∂nnen alle der folgenden Punkte wahr sein?

1. Ein Impfstoff ist hochwirksam beim Schutz gegen eine Krankheit.
2. Die meisten Menschen, die die Krankheit bekommen, sind geimpft worden.
]

.pull-right[
<br>
<div align="center">
<img src="../pics/hakan-nural-unsplash.jpg" width=500>
</div>
`Quelle` [Hakan Nural, Unsplash](https://www.fiercehealthcare.com/payers/health-plans-prepare-cover-covid-19-vaccine-tests)
]

---
# Puzzle 3

.pull-left[
## Wie k√∂nnen alle der folgenden Punkte wahr sein?

1. Ein Impfstoff ist hochwirksam beim Schutz gegen eine Krankheit.
2. Die meisten Menschen, die die Krankheit bekommen, sind geimpft worden.

## Base Rate Fallacy ("Pr√§valenzfehler")

- Dies ist ein klassischer Fall des ‚ÄûBase Rate Fallacy‚Äú oder ‚ÄûProsecutor's Fallacy‚Äú.
- Wenn die Impfrate $P(geimpft)$ in der Bev√∂lkerung hoch ist, besteht f√ºr geimpfte Personen eine viel gr√∂√üere Chance, ins Krankenhaus zu kommen, als f√ºr ungeimpfte Personen.
]

.pull-right[
<br>
<div align="center">
<img src="../pics/hakan-nural-unsplash.jpg" width=500>
</div>
`Quelle` [Hakan Nural, Unsplash](https://www.fiercehealthcare.com/payers/health-plans-prepare-cover-covid-19-vaccine-tests)
]

---
# "Base rate fallacy", illustriert

<div align="center">
<img src="../pics/base-rate-fallacy-ger.png" height=450>
</div>
`Quelle` [Marc Rumilly](https://twitter.com/MarcRummy/status/1464178903224889345) 


---
# Relevanz f√ºr AI-basierte Entscheidungssysteme


.pull-left[
## Politik f√ºr seltene Ereignisse

- Diverse Politikma√ünahmen sind darauf ausgerichtet, seltene und gleichzeitig extrem kostspielige Ereignisse zu verhindern.
- Beispiele: Terroranschl√§ge, Krieg, Naturkatastrophen
- Die Vorhersage solcher Ereignisse ist von Natur aus schwierig.
- KI-gest√ºtzte Erkennungssysteme versprechen hohe Erkennungsraten. Aber selbst bei einer sehr hohen Genauigkeit kann die Anzahl der falsch-positiven Meldungen inakzeptabel hoch sein.

## Leitfaden

- Ber√ºcksichtigen Sie bei der Evaluation von solchen Tools immer die **Basiswahrscheinlichkeit**.
- W√§hlen Sie geeignete Performanzmetriken (FPR, FNR, etc. - mehr dazu sp√§ter).
]

--

.pull-right[
## Beispiel: [Terrorismuserkennung](https://en.wikipedia.org/wiki/Base_rate_fallacy)
- In einer Stadt mit 1 Mio. Einwohnern gibt es 100 Terroristen und 999.900 Nicht-Terroristen: $p(\text{Terrorist}) = 0,0001$
- √úberwachung mit Gesichtserkennungssoftware mit zwei Fehlerquoten von 1%:
  1. Falsch-negativ-Rate (FNR): $p(\text{kein Alarm}|\text{Terrorist}) = 0,01$
  2. Falsch-positiv-Rate (FPR): $p(\text{Alarm}|\text{kein Terrorist}) = 0.01$

**Was bedeutet das, wenn wir einen Alarm erhalten?**<sup>1</sup>
  $p(\text{Terrorist}|\text{Alarm})=\frac{p(\text{Alarm}|\text{Terrorist})p(\text{Terrorist})}{p(\text{Alarm})}$ $=\frac{0.99 * 0.0001}{0.01} = 0.01$

.footnote[<div class="font50"><br><sup>1</sup>$p(\text{Alarm}) = p(\text{Alarm}|\text{Terrorist})*p(\text{Terrorist})$ $+ p(\text{Alarm}|\text{Nicht-Terrorist})*p(\text{Nicht-Terrorist})$ $=$
  $p(\text{Terrorist}|\text{Alarm})$ $= 0.99*0.0001 + 0.01*0.9999 = 0.01$</div>]
]


---
#  Kommunikation von Wahrscheinlichkeiten mit verbalen Ausdr√ºcken

.pull-left-wide2[
<div align="center">
<br>
<img src="../pics/willems-abstract.png" width=650>
</div>
`Quelle` [Willems et al. 2020](https://doi.org/10.22323/2.19020203)
]

.pull-right-small2[
<div align="center">
<img src="../pics/willems-probability-phrases.png" width=370>
</div>
]

---
# Was bedeutet die Wahrscheinlichkeit f√ºr verschiedene Berufe?

.pull-left[
<div align="center">
<br>
<img src="../pics/probability-orlin-1.png" width=450>
<img src="../pics/probability-orlin-2.png" width=450>
</div>
]

.pull-right[
<div align="center">
<img src="../pics/probability-orlin-3.png" width=450>
<img src="../pics/probability-orlin-4.png" width=450>
</div>
]

`Quelle` [Ben Orlin](https://mathwithbaddrawings.com/2015/09/23/what-does-probability-mean-in-your-profession/)



---
class: inverse, center, middle
name: significance

# Statistische Signifikanz verstehen
<html><div style='float:left'></div><hr color='#EB811B' size=1px style="width:1000px; margin:auto;"/></html>

---
# "Statistische Signifikanz" √ºberall

.pull-left-vwide[
<div align="center">
<img src="../pics/wansink-retracted.png" width=900>
</div>
]

.pull-right-vsmall[
<div align="center">
<img src="../pics/wansink-beans.jpeg" width=320>
</div>

<br><br><br><br><br><br><br>

`Quelle` [Wansink et al.](https://pubmed.ncbi.nlm.nih.gov/22846502/), [Retraction Watch](https://retractionwatch.com/2018/09/20/beleaguered-food-marketing-researcher-brian-wansink-announces-his-retirement-from-cornell/)
]


---
# "Statistische Signifikanz" √ºberall

<div align="center">
<img src="../pics/xkcd-jelly-beans-1.png" height=500>
<img src="../pics/xkcd-jelly-beans-2.png" height=500>
</div>


---
# Statistische Fehlertypen

.pull-left-wide[
## Beispiel

Sie sind Rettungssanit√§ter und n√§hern sich dem Ort eines Autounfalls. Ein Opfer liegt regungslos auf der Stra√üe und Sie m√ºssen einsch√§tzen, ob das Opfer tot oder lebendig ist, und das Opfer entsprechend behandeln. Ausgehend von diesen Informationen, **welcher Fehler ist schwerwiegender?**

## Hypothesen

- **Nullhypothese**: Das Opfer ist am Leben.
- **Alternative Hypothese**: Das Opfer ist nicht am Leben.

<br><br><br><br>
`Quelle` [jeffalltogether, StackExchange.com](https://stats.stackexchange.com/questions/211736/type-i-error-and-type-ii-error-trade-off)
]

.pull-right-small[
<br>
<div align="center">
<img src="../pics/ambulance.jpg" height=400>
</div>
]


---
# Statistische Fehlertypen

## Hypothesen

- **Nullhypothese**: Das Opfer ist am Leben.
- **Alternative Hypothese**: Das Opfer ist nicht am Leben.

--

## Fehlertypen

- **Typ-I-Fehler**: Sie verwerfen die Null(hypothese), obwohl sie tats√§chlich wahr ist (‚Äûfalsch positiv‚Äú).
- **Typ II-Fehler**: Sie verwerfen die Null nicht, obwohl sie tats√§chlich falsch ist. (‚Äûfalsch negativ‚Äú)

--

## Kosten

- **Typ I-Fehler**: Sie erkl√§ren das Opfer f√ºr tot, obwohl es in Wirklichkeit noch lebt. Das Opfer wird nicht zur m√∂glicherweise lebensrettenden medizinischen Behandlung ins Krankenhaus gebracht $\rightarrow$ **Extrem kostspieliger Fehler**
- **Typ II-Fehler**: Sie erkl√§ren das Opfer f√ºr lebendig, obwohl es in Wirklichkeit tot ist. Sie schicken eine tote Person f√§lschlicherweise mit einem Krankenwagen ins Krankenhaus $\rightarrow$ **Nicht so kostspieliger Fehler**


---
# Fehlertypen im Hypothesentesten

<div align="center">
<img src="../pics/error-types-matrix.png" height=450>
</div>



---
# Bewertung der statistischen Signifikanz

.pull-left[
## Statistische Signifikanz vs. praktische Signifikanz
- Sie sind nicht dasselbe.
- Bei der **statistischen Signifikanz** geht es um die Wahrscheinlichkeit der Beobachtung der Daten unter Ber√ºcksichtigung der Nullhypothese. 
- Bei der **praktischen Signifikanz** geht es um die Bedeutung des Ergebnisses in der realen Welt.

## Vom Hypothesentest zur statistischen Signifikanz

**Der dreistufige Ansatz:**
1. Formulierung von Null- und Alternativhypothesen.
2. Berechnen Sie eine Teststatistik, zum Beispiel die Effektgr√∂√üe in einer Regression geteilt durch den Standardfehler.
3. Vergleichen Sie die Teststatistik mit einem kritischen Wert; berechnen Sie einen p-Wert.
]

--

.pull-right[
## Der p-Wert

- Der p-Wert ist die Wahrscheinlichkeit, dass ein Ergebnis beobachtet wird, das mindestens so extrem ist wie das beobachtete Ergebnis, wenn die Nullhypothese wahr w√§re.
- Der p-Wert wird mit einem Schwellenwert (z.B. 0.05) verglichen, um zu entscheiden, ob die Nullhypothese verworfen werden soll.
- Wichtig: Der p-Wert gibt nicht die Wahrscheinlichkeit an, dass die Nullhypothese wahr oder falsch ist!

<div align="center">
<img src="../pics/distribution-sigmas.png" height=240>
</div>
]


---
# Statistische Signifikanz im Auge behalten

.pull-left[
<div align="center">
<img src="../pics/legislator-views-table.png" width=500>
</div>
]

.pull-right[
<div align="center">
<img src="../pics/pnas-chen-air-pollution-huai-river-5.png" width=550>
</div>
]

---
# Statistische Signifikanz im Auge behalten

<div align="center">
<img src="../pics/nhb-app-effects-with-title.png" width=750>
</div>



---
# Nicht von berichteter Signifikanz in die Irre f√ºhren lassen

.pull-left[
## Einige Probleme

- Nur weil ein Effekt signifikant ist, hei√üt das nicht, dass er substanziell bedeutsam (gro√ü) ist.
- Es gibt einen Anreiz f√ºr Forschende (und AI-Verk√§ufer), statistisch signifikante Ergebnisse zu produzieren.
- Statistische Signifikanz ist (auch) eine Funktion der Stichprobengr√∂√üe. Es ist **trivial, mit gro√üen Daten signifikante Ergebnisse zu erzielen**.
- Leider ist es auch oft **trivial, mit kleinen Daten signifikante Ergebnisse zu erzielen**, wenn man in Bezug auf seine Hypothesen flexibel ist.
]

.pull-right[
## Sprachakrobatik mit Signifikanz

"The following list is culled from peer-reviewed journal articles in which (a) the authors set themselves the threshold of 0.05 for significance, (b) failed to achieve that threshold value for p and (c) described it in such a way as to make it seem more interesting." - [Matthew Hankins, Probable Error](https://goo.gl/iUGz7a)

> (barely) not statistically significant (p=0.052), ..., a certain trend toward significance (p=0.08), a clear tendency to significance (p=0.052), a clear trend (p<0.09), a clear, strong trend (p=0.09), very closely brushed the limit of statistical significance (p=0.051), very narrowly missed significance (p<0.06), very nearly significant (p=0.0656), weakly non-significant (p=0.07), weakly significant (p=0.11), weakly statistically significant (p=0.0557), well-nigh significant (p=0.11)
]

---
# Fishing und  p-Hacking

.pull-left-wide2[
## Die Krankheit

Die Dominanz der statistischen Signifikanz als Entscheidungskriterium bei wissenschaftlichen Ver√∂ffentlichungen macht die p-Werte zu einem wichtigen Zielkriterium bei der statistischen Analyse. Kleine p-Werte werden h√§ufiger berichtet, als man erwarten w√ºrde!

## Die Symptome

- **Fishing**: Testen vieler Hypothesen bis zur Signifikanz
- **P-Hacking**: Optimieren der Analyse (z. B. Hinzuf√ºgen/Entfernen von Kontrollen, Transformieren von Variablen, √Ñndern von Modellen) bis zur Signifikanz
- **HARKing**: **H**ypothesizing **a**fter the **r**esults are **k**nown

## Die Kur?

Special issue in [The American Statistician, 2019](https://www.tandfonline.com/toc/utas20/73/sup1): *"Statistical Inference in the 21st Century: A World Beyond p < 0.05"*
]

.pull-right-small2[
<div align="center">
<div class=font50><b>Figure:</b> Distribution of reported p-values (within [.001‚Äì.15]).</div>
<img src="../pics/p-values-pone.png" height=260><br>
</div>

> "The data set consists of over 135‚Äô000 records. The data have been harvested by means of computer-based search from (...) five Journals of Experimental Psychology in the period January 1996-March 2008." 

`Source` [Krawczyk, M., 2015, PLOS ONE](https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0127872)
]


---
# Kontroversen um statistische Signifikanz

.pull-left[
<div align="center">
<img src="../pics/p-values-asa.png" width=550>
</div>

## Sechs Prinzipien

<div class=font80>
<ol>
<li>p-Werte k√∂nnen angeben, wie unvereinbar die Daten mit einem bestimmten statistischen Modell sind.</li>
<li>p-Werte messen nicht die Wahrscheinlichkeit, dass die untersuchte Hypothese wahr ist, oder die Wahrscheinlichkeit, dass die Daten allein durch Zufall entstanden sind.</li>
<li><b>Wissenschaftliche Schlussfolgerungen und gesch√§ftliche oder politische Entscheidungen sollten nicht nur darauf beruhen, ob ein p-Wert einen bestimmten Schwellenwert √ºberschreitet.</b></li>
<li>Eine korrekte Schlussfolgerung erfordert eine vollst√§ndige Berichterstattung und Transparenz.</li>
<li>Ein p-Wert sagt nichts √ºber die Gr√∂√üe eines Effekts oder die Bedeutung eines Ergebnisses aus.</li>
<li>Ein p-Wert an sich ist kein guter Ma√üstab f√ºr die Evidenz eines Modells oder einer Hypothese.</li>
</ol>
</div>
]

.pull-right[
<div align="center">
<img src="../pics/p-values-greenland.png" width=550>
</div>
]




---
class: exercise, center, middle

# √úbung

.content-box-white[
Erlangen Sie wissenschaftlichen Ruhm durch 5 Minuten P-Hacking bei [https://projects.fivethirtyeight.com/p-hacking/](https://projects.fivethirtyeight.com/p-hacking/)! (Mehr Hintergrund [hier](https://fivethirtyeight.com/features/science-isnt-broken).)
]
<br>
<div align="center">
<img src="../pics/fivethirtyeight-hacking.png" height=350>
</div>




---
class: inverse, center, middle
name: classification

# Klassifikationsmetriken verstehen
<html><div style='float:left'></div><hr color='#EB811B' size=1px style="width:1000px; margin:auto;"/></html>


---
# AI-Performanz in Wissenstests

<div align="center">
<img src="../pics/ai-performance-knowledge-tests-vs-training-computation.svg" height=550>
</div>

---
# AI-F√§higkeiten vs. menschliche Performanz

<div align="center">
<img src="../pics/test-scores-ai-capabilities-relative-human-performance.svg" height=550>
</div>


---
# Klassifikationsprobleme und ML-Applikationen

.pull-left-wide2[
## Klassifizierungsprobleme in freier Wildbahn

Klassifizierungsprobleme sind weit verbreitet (wahrscheinlich h√§ufiger als Regressionsprobleme). **Beispiele:**

1. Eine Frau kommt mit einer Reihe von Symptomen in die Notaufnahme. Welche Krankheit hat sie?
2. Ein Online-Banking-Dienst muss in der Lage sein, anhand der IP-Adresse des Benutzers, seiner bisherigen Transaktionen usw. festzustellen, ob eine Transaktion betr√ºgerisch ist oder nicht.
3. Eine Biologin m√∂chte anhand der DNA-Sequenzdaten einer Reihe von Patienten mit und ohne eine bestimmte Krankheit herausfinden, welche DNA-Mutationen sch√§dlich (krankheitsverursachend) sind und welche nicht.
4. Ein Moderator einer Social-Media-Plattform muss entscheiden, ob ein von einem Nutzer erstellter Beitrag als unangemessen gekennzeichnet werden soll oder nicht.
]

.pull-right-small2[
## Automatisierte Entscheidungsfindung

Entscheidungsfindungsprobleme sind oft Klassifizierungsprobleme!

Wenn automatisierte Systeme zur Entscheidungsfindung eingesetzt werden, beruhen sie h√§ufig auf Klassifizierungsmodellen. Ob sie als rechtm√§√üig angesehen werden oder nicht, h√§ngt oft entscheidend von der Leistung dieser Modelle ab.
]


---
# ML-Performanz-Benchmarking: Beispiel

<div align="center">
<img src="../pics/performance-gpt.png" height=500>
</div>

`Quelle` Wiik, 2024, GPT-4o vs. GPT-4 vs. Gemini 1.5 ‚Äî Performance Analysis (Accuracy).



---
# ML-Performanz-Benchmarking: Beispiel 2

<div align="center">
<img src="../pics/performance-hate-speech.png" height=500>
</div>

`Quelle` Oueslati, 2024, Watching the Watchers: A Comparative Audit of Cloud‚ÄëBased Commercial Content Moderation Services.




---
# Bestimmung der Performanz eines bin√§ren Klassifizierers

.pull-left[
## Accuracy ("Korrektklassifizierungsrate")

- Accuracy = $\frac{\text{Anzahl der richtigen Vorhersagen}}{\text{Gesamtzahl der Vorhersagen}} = \frac{TP + TN}{TP + TN + FP + FN}$
- Falschklassifikationsrate: $1 - \text{Accuracy}$

## N√ºtzlichkeit
- Die Accuracy ist eine einfache und intuitive Metrik.
- Sie kann jedoch irref√ºhrend sein, insbesondere in unausgewogenen Datens√§tzen, in denen die Klassen nicht gleichm√§√üig vertreten sind.
- Beispiel: In einem Datensatz mit 90% der Klasse A und 10% der Klasse B hat ein Modell, das alle F√§lle als Klasse A vorhersagt, eine Genauigkeit von 90%, ist aber f√ºr die Vorhersage von F√§lle der Klasse B nicht n√ºtzlich.
]

--

.pull-right[
## Beispiel

<div align="center"><br>
<img src="../pics/confusion-matrix-recidivism.png" width=500>
</div>

Wie hoch ist die **Accuracy** unseres R√ºckfall-Klassifizierers?
]


---
# Bestimmung der Performanz eines bin√§ren Klassifizierers

.pull-left[
## Pr√§zision

- Pr√§zision = $\frac{\text{Anzahl der echten positiven Vorhersagen}}{\text{Anzahl der positiven Vorhersagen}} = \frac{TP}{TP + FP}$

## N√ºtzlichkeit
- Die Pr√§zision konzentriert sich auf die Genauigkeit der positiven Vorhersagen und ist n√ºtzlich, wenn die Kosten f√ºr falsch positive Vorhersagen hoch sind.
]

--

.pull-right[
<div align="center">
<img src="../pics/precision-recall.png" width=300>
</div>
]



---
# Bestimmung der Performanz eines bin√§ren Klassifizierers

.pull-left[
## Pr√§zision

- Pr√§zision = $\frac{\text{Anzahl der echten positiven Vorhersagen}}{\text{Anzahl der positiven Vorhersagen}} = \frac{TP}{TP + FP}$

## N√ºtzlichkeit
- Die Pr√§zision konzentriert sich auf die Genauigkeit der positiven Vorhersagen und ist n√ºtzlich, wenn die Kosten f√ºr falsch positive Vorhersagen hoch sind.
]

.pull-right[
## Example

<div align="center"><br>
<img src="../pics/confusion-matrix-recidivism.png" width=500>
</div>

Wie hoch ist die **Pr√§zision** unseres R√ºckfall-Klassifizierers?
]


---
# Bestimmung der Performanz eines bin√§ren Klassifizierers

.pull-left[
## Recall (Sensitivit√§t)
- Recall = $\frac{\text{Anzahl der wahren positiven Vorhersagen}}{\text{Anzahl der wahren positiven Werte}} = \frac{TP}{TP + FN}$
- ‚ÄûTrue-Positive-Rate‚Äú

## N√ºtzlichkeit
- Der Recall konzentriert sich auf die Erfassung aller positiven Werte und ist wichtig, wenn die Kosten f√ºr Falsch-negativ-Vorhersagen hoch sind.
- **Beispiel:** Bei einer medizinischen Diagnose ist der Recall wichtig, um sicherzustellen, dass alle Patienten mit einer Krankheit korrekt identifiziert werden.
- Das erg√§nzende Ma√ü ist die Spezifit√§t (Rate der echten Negativbefunde; z. B. wie viele gesunde Personen als nicht erkrankt identifiziert werden).
]

--

.pull-right[
<div align="center">
<img src="../pics/precision-recall.png" width=300>
</div>
]



---
# Bestimmung der Performanz eines bin√§ren Klassifizierers

.pull-left[
## Recall (Sensitivit√§t)
- Recall = $\frac{\text{Anzahl der wahren positiven Vorhersagen}}{\text{Anzahl der wahren positiven Werte}} = \frac{TP}{TP + FN}$
- ‚ÄûTrue-Positive-Rate‚Äú

## N√ºtzlichkeit
- Der Recall konzentriert sich auf die Erfassung aller positiven Werte und ist wichtig, wenn die Kosten f√ºr Falsch-negativ-Vorhersagen hoch sind.
- **Beispiel:** Bei einer medizinischen Diagnose ist der Recall wichtig, um sicherzustellen, dass alle Patienten mit einer Krankheit korrekt identifiziert werden.
- Das erg√§nzende Ma√ü ist die Spezifit√§t (Rate der echten Negativbefunde; z. B. wie viele gesunde Personen als nicht erkrankt identifiziert werden).
]

.pull-right[
## Beispiel

<div align="center"><br>
<img src="../pics/confusion-matrix-recidivism.png" width=500>
</div>

Wie hoch ist der **Recall** unseres R√ºckfall-Klassifizierers?
]



---
# Bestimmung der Performanz eines bin√§ren Klassifizierers

.pull-left[

## F1-Score
- F1 score = $2 \times \frac{\text{Precision} \times \text{Recall}}{\text{Precision} + \text{Recall}} = \frac{2TP}{2TP + FP + FN}$
- Der F1-Score ist das harmonische Mittel aus Pr√§zision und Recall.


## N√ºtzlichkeit
- Der F1-Score berichtet eine Balance zwischen Pr√§zision und Recall, was insbesondere dann hilfreich ist, wenn ein Ungleichgewicht zwischen den Klassen besteht.
- Der F1-Score reicht von 0 bis 1, wobei 1 f√ºr perfekte Pr√§zision und Recall und 0 f√ºr eine schlechte Leistung steht.
]

.pull-right[
## Illustration

<div align="center"><br>
<img src="../pics/Harmonic_mean_3D_plot_from_0_to_100.png" width=350>
</div>

Abbildung des normalisierten harmonischen Mittels, wobei x die Pr√§zision, y den Recall und die vertikale Achse den F1-Score in %-Punkten darstellt.

`Quelle` [Andong87](https://commons.wikimedia.org/w/index.php?curid=24020909) 
]


---
# Bestimmung der Performanz eines bin√§ren Klassifizierers

.pull-left[
## F1-Score
- F1 score = $2 \times \frac{\text{Precision} \times \text{Recall}}{\text{Precision} + \text{Recall}} = \frac{2TP}{2TP + FP + FN}$
- Der F1-Score ist das harmonische Mittel aus Pr√§zision und Recall.


## N√ºtzlichkeit
- Der F1-Score berichtet eine Balance zwischen Pr√§zision und Recall, was insbesondere dann hilfreich ist, wenn ein Ungleichgewicht zwischen den Klassen besteht.
- Der F1-Score reicht von 0 bis 1, wobei 1 f√ºr perfekte Pr√§zision und Recall und 0 f√ºr eine schlechte Leistung steht.
]

.pull-right[
## Beispiel

<div align="center"><br>
<img src="../pics/confusion-matrix-recidivism.png" width=500>
</div>

Wie hoch ist der **F1-Score** unseres R√ºckfall-Klassifizierers?
]



---
# Weshalb die Wahl der Metrik den Unterschied machen kann

## Szenario

- **Outcome:** R√ºckf√§lligkeit, wenn die Person r√ºckf√§llig wird (1) oder nicht (0)
- **Falsch positiv (FP):** Das Modell sagt voraus, dass eine Person r√ºckf√§llig wird, wenn sie es tats√§chlich nicht wird. 
- **Falsch Negativ (FN):** Das Modell sagt voraus, dass eine Person nicht r√ºckf√§llig wird, obwohl sie es tats√§chlich wird.


## Kosten

- Was sind die nachgelagerten Kosten von FP und FN?
- FP k√∂nnte dazu f√ºhren, dass einer Person Ma√ünahmen auferlegt werden, die nicht notwendig w√§ren
- FN k√∂nnte dazu f√ºhren, dass gef√§hrdete Personen ohne angemessene Intervention entlassen werden, was m√∂glicherweise zu erneuten Straftaten f√ºhrt.
- Auf welcher Ebene fallen die Kosten an - individuell, gesellschaftlich, ...?


## Ethische und wirtschaftliche √úberlegungen

- Wie sollten wir die Kosten von FP und FN abw√§gen?
- Was sollte in unserem Modell Vorrang haben - die Verringerung von FP, FN oder ein Kompromiss zwischen beiden?





---
# Statistiken verwenden: lessons learned

.pull-left[
## Lies, damned lies and statistics

- Politische Debatten drehen sich fast zwangsl√§ufig auch um Statistiken
- Strategischer Anreiz, Beweise zu seinen Gunsten zu beeinflussen
- Statistische Fallstricke: Nicht alles, was logisch klingt, ist statistisch fundiert 
- Ein grundlegendes Verst√§ndnis der grundlegenden Konzepte der Statistik ist der Schl√ºssel zu kritischem Konsum von Daten und Statistiken
- Einige popul√§re Irrt√ºmer und Fehler treten immer wieder auf - man kann trainieren, sie zu erkennen!
]

.pull-right[
<div align="center">
<br>
<img src="../pics/lies-damned-lies-statistics.jpeg" height=220>
<img src="../pics/bad-science-goldacre.jpeg" height=220>
<img src="../pics/everythingisobvious.jpg" height=220>
<img src="../pics/art-of-statistics-spiegelhalter.jpeg" height=220>
<img src="../pics/gigerenzer-risk-savvy.png" height=220>
<img src="../pics/kahnemann-thinking.jpeg" height=220>
</div>
]


---
# √úbung: OptiClassify

.pull-left-wide[

## "OptiClassify: Effiziente Aktenkategorisierung ‚Äì Pr√§zision, die Sie brauchen!"

Mit OptiClassify bieten wir eine KI-basierte L√∂sung, die **Verwaltungsakten automatisch in 5 spezifische Kategorien** einteilt. Unsere Technologie erreicht eine **statistisch signifikante Trefferquote (Accuracy) von 95%**, unterst√ºtzt durch modernste Machine-Learning-Algorithmen.

Die **Falsch-Negative-Rate liegt bei 5%**, was bedeutet, dass nur wenige Dokumente in die falsche Kategorie eingeordnet werden. Dank der **hohen Signifikanz von p < 0.01** k√∂nnen Sie sich auf die Zuverl√§ssigkeit unserer L√∂sung verlassen, insbesondere bei gro√üen Datenmengen.

In **Tests mit √ºber 100.000 realen Verwaltungsakten** haben wir bewiesen, dass OptiClassify selbst in komplexen Szenarien konsistent arbeitet und den manuell erzeugten **Kategorisierungsaufwand um 75% reduziert**.

Entdecken Sie die Zukunft der Verwaltung mit OptiClassify ‚Äì sparen Sie Zeit, Kosten und Ressourcen, indem Sie unsere praxiserprobte L√∂sung einsetzen!
]

.pull-right-small[
<div align="center">
<br>
<img src="../pics/classification-bot.jpeg" height=350>
</div>
]

---
# √úbung: OptiClassify

## M√∂gliche Fragen

1. Auf Basis welcher Daten wurde das Tool trainiert?

    ‚úé Die Qualit√§t und Passung der Trainingsdaten ist entscheidend f√ºr die Leistung des Tools im konkreten Kontext.

2. Wie wird die Accuracy von 95% berechnet, und wie verteilt sich diese auf die einzelnen Kategorien?

    ‚úé Die Accuracy k√∂nnte in einigen Kategorien viel niedriger sein.

3. Wie wirkt sich die False-Negative-Rate von 5% auf kritische Akten aus?

    ‚úé Es ist wichtig zu wissen, ob Dokumente, die zwingend in eine bestimmte Kategorie geh√∂ren, zuverl√§ssig erkannt werden.

    ‚úé Bei einer gro√üen Anzahl von Dokumenten k√∂nnten niedrige Fehlerraten zu vielen manuellen Nacharbeiten f√ºhren.
    
4. Wie wurde die statistische Signifikanz (p < 0.01) berechnet?

    ‚úé Welche Hypothese liegt hier zugrunde? 




---
class: exercise, center, middle

# Data Detective, Fall 4: AnkER-Zentren

.content-box-white[
<div align="center">
<img src="../pics/Fall_3_QR.png" width=350>
</div>
]




