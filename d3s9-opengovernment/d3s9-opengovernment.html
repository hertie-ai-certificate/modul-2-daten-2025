<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Tag 3: Auf dem Weg zur datenbewussten Organisation</title>
    <meta charset="utf-8" />
    <meta name="author" content="Simon Munzert" />
    <script src="libs/header-attrs-2.29/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/metropolis.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/metropolis-fonts.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="https://tikzjax.com/v1/fonts.css">
    <script src="https://tikzjax.com/v1/tikzjax.js"></script>
    <link rel="stylesheet" href="../simons-touch.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Tag 3: Auf dem Weg zur datenbewussten Organisation
]
.subtitle[
## Session 9: Daten-Workflows und Open Government Data
]
.author[
### Simon Munzert
]
.institute[
### Hertie School
]

---



# Inhaltsverzeichnis

&lt;br&gt;&lt;br&gt;

1. [Relationale Datenstrukturen](#relationaldata)
2. [Open Government Data](#ogd)
3. [Daten-Workflow in der Behörde](#workflow)




---
class: inverse, center, middle
name: relationaldata

# Relationale Datenstrukturen
&lt;html&gt;&lt;div style='float:left'&gt;&lt;/div&gt;&lt;hr color='#EB811B' size=1px style="width:1000px; margin:auto;"/&gt;&lt;/html&gt;


---
# Die Allgegenwärtigkeit von relationalen Datenstrukturen

.pull-left-wide[
### Von Tabellen...

- Wenn Sie an Daten auf Ihrem Laptop denken, haben Sie möglicherweise ein [Spreadsheet](https://de.wikipedia.org/wiki/Tabellenkalkulation) im Kopf.
- In der Tat arbeitet ein Großteil der klassischen "statistischen" Software (SPSS, Stata, MS Excel) standardmäßig mit Spreadsheets als Dateninput.
- Gleichzeitig ist einer Ihrer ersten Gedanken möglicherweise auch [dateibasiert](https://en.wikipedia.org/wiki/List_of_file_formats). Die Daten werden in Dateien gespeichert, und diese Dateien werden von unserer Datenverwaltungssoftware gelesen (und erstellt).
- In vielen Fällen ist eine **zweidimensionale Datenstruktur** sinnvoll. Wir nutzen zum Beispiel
  - Befragte x Einstellungen
  - Bezirke x Merkmale
  - Beiträge in sozialen Medien x Textmerkmale
]

.pull-right-small[
&lt;br&gt;&lt;br&gt;
&lt;div align="center"&gt;
&lt;img src="../pics/clippy-message.jpeg" height=200&gt; 
&lt;/div&gt;
]


---

# Die Allgegenwärtigkeit von mehrdimensionalen Datenstrukturen

.pull-left-small2[
&lt;div align="center"&gt;
&lt;img src="../pics/legislator-structure.png" height=520&gt;
&lt;/div&gt;
`Credit` [saschagobel/legislatoR](https://github.com/saschagobel/legislatoR)
]

.pull-right-wide2[
### ... zu komplexen Datenstrukturen

- Je länger man jedoch darüber nachdenkt, desto problematischer wird es, Daten systematisch in zweidimensionalen Strukturen abzulegen.
- **Beispiele**:
  - Befragte x Einstellungen x Länder x Zeit
  - Bezirke x Unterbezirke Merkmale x Zeit
  - Beiträge in sozialen Medien x Retweets x Benutzer x Benutzereigenschaften x Netzwerkmerkmale x Metadaten
- Die Abbildung von dreidimensionalen auf zweidimensionale Strukturen ist technisch einfach machbar.
- Bei **vielfachen heterogenen Datenquellen** wird es unübersichtlich.
- Die Verwaltung komplexer Datenstrukturen ist nur ein Vorteil der Verwendung von **Datenbanken**.
]


---

# Wann Datenbanken nützlich werden

.pull-left[
### Größe und Struktur
- Sie haben **Datenmengen, die den Arbeitsspeicher** auf Ihrem Computer übersteigen. Datenbanken sind nur durch die verfügbare Festplattengröße begrenzt (oder können auf mehrere Festplatten/Rechner verteilt werden).
- Ihre **Datenstruktur ist komplex**. Datenbanken erlauben es, Daten mit komplexen Datenstrukturen zu speichern, abzurufen und zu untergliedern.
- Ihre Daten sind groß und Sie müssen **häufig darauf zugreifen/daraus filtern**. Die Abfrage von Datenbanken ist schnell.
- Sie legen Wert auf **Datenqualität** und haben klare Vorstellungen, wie Daten aussehen sollen. Mit Hilfe von Datenbanken können Sie spezifische Regeln für die Erweiterung und Aktualisierung Ihrer Datenbank definieren.
]

--

.pull-right[
### Zugänglichkeit und Gleichzeitigkeit
- Sie **arbeiten gemeinsam mit anderen** an einem Datenprojekt Mit einer Datenbank haben Sie eine gemeinsame, zuverlässige Infrastruktur zur Verfügung, auf die mehrere Benutzer gleichzeitig zugreifen können.
- Wenn mehrere Parteien beteiligt sind, können Nutzerprivilegien wichtig sein (z. B. nur Lesezugriff, Zugriff auf Teile der Daten, eingeschränkte Verwaltungsrechte usw.). Die meisten Datenbanken erlauben die **Definition unterschiedlicher Nutzungsrechte für verschiedene Benutzer**.
]


---
# Codds relationales Modell für Datenbanken

.pull-left[
- Das Konzept relationaler Datenbanken baut auf dem [relational model (RM)](https://en.wikipedia.org/wiki/Relational_model) auf, das 1969/1970 von [Edgar F. "Ted" Codd](https://en.wikipedia.org/wiki/Edgar_F._Codd) vorgeschlagen wurde.
- Codd beschrieb das RM formal, führte es aber auch mit Konzepten ein, die auch heute noch verwendet werden (Normalisierung, Schlüssel, Joins, usw.).
- Die Grundannahme des relationalen Modells ist, dass alle Daten als Relationen (Tabellen) dargestellt werden können.
- Informationen werden dann durch in Beziehung stehende Datenwerte dargestellt.

&lt;div align="center"&gt;
&lt;img src="../pics/edgar-codd.jpeg" height=150&gt;
&lt;/div&gt;
]


.pull-right-center[
&lt;div align="center"&gt;
&lt;img src="../pics/codd-relational-model.png" height=500&gt;
&lt;/div&gt;
`Credit` [Communications of the ACM 13(6), 1970](https://dl.acm.org/doi/10.1145/362384.362685)
]


---
# Tabellarische Daten: Beispiel

.pull-left[
### Speicherung von Daten in Tabellen

- Eine einzige Tabelle stellt bereits Beziehungen her: Alle Daten in einer Zeile gehören zu demselben Datensatz.
- Wenn wir komplexere Beziehungen darstellen wollen (z. B. das Gewicht einer Person zweimal messen oder das Gewicht ihrer Kinder ebenfalls messen), können wir Daten von einer Tabelle zur anderen in Beziehung setzen.

### Beispiel

- Wir haben Daten über Peter, Paul und Mary gesammelt.
- Wir haben Informationen über Geburtstage, Telefonnummern und Lieblingsspeisen.
- Wie können wir diese Informationen in Tabellen darstellen?
]

--

.pull-right[
&lt;div align="center"&gt;
&lt;img src="../pics/adcr-relational-data-1.png" width=600&gt;
&lt;/div&gt;
&lt;div align="center"&gt;
&lt;img src="../pics/adcr-relational-data-2.png" width=300&gt;
&lt;/div&gt;

- Wir beginnen mit der Darstellung der Daten in zwei Tabellen.
- Sie sind über den Schlüssel `nameid` verknüpft, so dass wir die vollständigen Namen nicht in die Tabelle der Telefonnummern aufnehmen müssen.
- Beachten Sie, dass wir hier eine 1:m (one-to-many) Beziehung haben, da Peter zwei Telefonnummern hat.
]

---
# Tabellarische Daten: Beispiel

.pull-left[
### Speicherung von Daten in Tabellen

- Eine einzige Tabelle stellt bereits Beziehungen her: Alle Daten in einer Zeile gehören zu demselben Datensatz.
- Wenn wir komplexere Beziehungen darstellen wollen (z. B. das Gewicht einer Person zweimal messen oder das Gewicht ihrer Kinder ebenfalls messen), können wir Daten von einer Tabelle zur anderen in Beziehung setzen.

### Beispiel

- Wir haben Daten über Peter, Paul und Mary gesammelt.
- Wir haben Informationen über Geburtstage, Telefonnummern und Lieblingsspeisen.
- Wie können wir diese Informationen in Tabellen darstellen?
]

.pull-right[
&lt;div align="center"&gt;
&lt;img src="../pics/adcr-relational-data-1.png" width=600&gt;
&lt;/div&gt;
&lt;div align="center"&gt;
&lt;img src="../pics/adcr-relational-data-2.png" width=300&gt;
&lt;/div&gt;

- Die Art und Weise, wie wir die Daten speichern, ist jedoch nicht ideal. In der ersten Tabelle haben wir drei Spalten, die praktisch das Gleiche messen. Und was, wenn es noch mehr Lieblingsessen gibt? Das Hinzufügen von Informationen auf diese Weise führt zu einer Menge redundanter Informationen.
- Wir können die Daten normalisieren, um Redundanzen zu vermeiden.
]


---
# Tabellarische Daten: Beispiel

.pull-left[
### Speicherung von Daten in Tabellen

- Eine einzige Tabelle stellt bereits Beziehungen her: Alle Daten in einer Zeile gehören zu demselben Datensatz.
- Wenn wir komplexere Beziehungen darstellen wollen (z. B. das Gewicht einer Person zweimal messen oder das Gewicht ihrer Kinder ebenfalls messen), können wir Daten von einer Tabelle zur anderen in Beziehung setzen.

### Beispiel

- Wir haben Daten über Peter, Paul und Mary gesammelt.
- Wir haben Informationen über Geburtstage, Telefonnummern und Lieblingsspeisen.
- Wie können wir diese Informationen in Tabellen darstellen?
]

.pull-right[
&lt;div align="center"&gt;
&lt;img src="../pics/adcr-relational-data-3.png" width=300&gt;
&lt;/div&gt;

- Besser ist es, die Informationen aufzuteilen und eine weitere Tabelle für die Essenspräferenzen zu erstellen.
- Es bleibt immer noch etwas Redundanz übrig. Ist es wirklich notwendig, "Hamburger" zweimal in der Tabelle zu haben?
]


---
# Tabellarische Daten: Beispiel

.pull-left[
### Speicherung von Daten in Tabellen

- Eine einzige Tabelle stellt bereits Beziehungen her: Alle Daten in einer Zeile gehören zu demselben Datensatz.
- Wenn wir komplexere Beziehungen darstellen wollen (z. B. das Gewicht einer Person zweimal messen oder das Gewicht ihrer Kinder ebenfalls messen), können wir Daten von einer Tabelle zur anderen in Beziehung setzen.

### Beispiel

- Wir haben Daten über Peter, Paul und Mary gesammelt.
- Wir haben Informationen über Geburtstage, Telefonnummern und Lieblingsspeisen.
- Wie können wir diese Informationen in Tabellen darstellen?
]

.pull-right[
&lt;div align="center"&gt;
&lt;img src="../pics/adcr-relational-data-4.png" width=300&gt;
&lt;/div&gt;
&lt;div align="center"&gt;
&lt;img src="../pics/adcr-relational-data-5.png" width=300&gt;
&lt;/div&gt;

- Jetzt ist es besser.
- Bei der Umstrukturierung der Informationen in unserer Datenbank haben wir **Redundanz (Duplikation)** vermieden.
- Dies ist der Prozess der **Datenbanknormalisierung**.
]


---
# Was ist SQL?

### Hintergrund und Geschichte

- SQL (ausgesprochen [ɛsˌkjuːˈɛl] wie in S-Q-L, oder [siːkwəl] wie in sequel) steht für **Structured Query Language**. Ursprünglich hieß sie SEQUEL (Structured English Query Language), wurde aber aufgrund von Markenrechtsproblemen fallen gelassen.
- Es handelt sich um eine domänenspezifische Sprache, die für die Abfrage von Daten in relationalen Datenbanken entwickelt wurde.
- Ursprünglich wurde sie 1974 bei IBM von [Donald D. Chamberlin](https://en.wikipedia.org/wiki/Donald_D._Chamberlin) und [Raymond F. Boyce](https://en.wikipedia.org/wiki/Raymond_F._Boyce) entwickelt.

--

### Warum SQL?

- Es gibt zwar unterschiedliche Datenbanktypen, aber die meisten relationalen Datenbanken, denen Sie begegnen werden, sprechen SQL.
- Die wichtigste Fähigkeit für die Arbeit mit Datenbanken ist das Erlernen von SQL. 
- SQL wird in vielen (den meisten?) Stellenausschreibungen für Datenwissenschaftler als erforderliche Fähigkeit aufgeführt.



---

# Datenbanken und Datenbankmanagementsysteme

### Was sind Datenbanken?

- Datenbanken sind eine organisierte Sammlung von Daten.
- Sie sind so organisiert, dass sie ein effizientes Abrufen von Daten(-selektionen) ermöglichen.
- Sie enthalten Daten + Metadaten über Struktur und Organisation.
- Der Zugriff auf sie erfolgt im Allgemeinen über ein Datenbankmanagementsystem.

### Wo sind Datenbanken?

- Datenbanken können lokal oder dezentral, im Arbeitsspeicher oder auf der Festplatte existieren.
- Wenn sie lokal gespeichert sind, werden sie als Binärdatei (nicht als Textdatei) gespeichert.
- Im Allgemeinen denken wir an ein **Client-Server-Modell**:
  - Datenbanken befinden sich auf einem **Server**, der sie verwaltet.
  - Die Benutzer interagieren mit dem Server über ein **Client**-Programm.
  - Mehrere Benutzer können auf dieselbe Datenbank **gleichzeitig zugreifen**.



---
# Datenbanken und Datenbankmanagementsysteme

.pull-left-wide[
### Was sind DBMS?

- Datenbankmanagementsysteme (DBMS) bieten **effiziente**, **zuverlässige**, **bequeme**, **sichere** Speicherung von und Zugriff auf **massive** Daten.
    - **Effizient**: Einfach schnell.
    - **Zuverlässig**: Hohe Betriebszeit.
    - **Komfortabel**: Hochwertige Abfragesprachen.
    - **Sicher**: Robust gegenüber Stromausfällen, Knotenausfällen, usw.
    - **Mehrbenutzer**: Gleichzeitigkeitskontrolle. Nicht nur ein Benutzer, sondern mehrere.
    - **Massiv**: Denken Sie an Terabytes, nicht an Gigabytes. Verarbeitung von Daten, die sich außerhalb des Speichers befinden.
- Es gibt [etliche DBMS](https://en.wikipedia.org/wiki/List_of_relational_database_management_systems) allein für relationale Datenbankstrukturen.
- RDBMS unterscheiden sich in Bezug auf Fähigkeiten, implementierte Funktionen, Betriebssystemunterstützung und vieles mehr. Siehe [The Database Database](https://technically.dev/database-database) für einen Überblick.
]

.pull-right-small[
&lt;div align="center"&gt;
&lt;br&gt;
&lt;img src="../pics/mysql-logo.png" height=120&gt;
&lt;img src="../pics/postgresql-logo.png" height=150&gt;
&lt;img src="../pics/sqlite-logo.png" height=110&gt;
&lt;img src="../pics/duckdb-logo.png" height=50&gt;
&lt;/div&gt;

]

---
# Datenbanken und Datenbankmanagementsysteme (Forts.)

### Drei Grundformen von DBMS

- **Client-Server-DBMS**: Läuft auf einem leistungsstarken zentralen Server, den Sie von Ihrem Computer (dem Client) aus ansteuern. Ideal für die gemeinsame Nutzung von Daten durch mehrere Personen in einer Organisation. Beliebte Client-Server-DBMS sind PostgreSQL, MariaDB, SQL Server und Oracle.
- **Cloud DBMS**: Ähnlich wie Client-Server-DBMS, aber sie werden in der Cloud ausgeführt. Das bedeutet, dass sie problemlos extrem große Datenmengen verarbeiten und bei Bedarf automatisch mehr Rechenressourcen bereitstellen können. Beliebte Beispiele: Snowflake, RedShift von Amazon und BigQuery von Google.
- **Eingebettetes (prozessinternes) DBMS**: Werden vollständig auf Ihrem Computer oder innerhalb einer Anwendung ausgeführt. Sie eignen sich hervorragend für die Arbeit mit großen Datensätzen, bei denen Sie der Hauptnutzer sind. Beispiele: SQLite oder [DuckDB](https://duckdb.org/).

### Weitere nützliche Ressourcen für den Einstieg in das Thema Datenbanken

Einen guten Einstieg bietet [The Beginner's Guide to Databases](https://technically.substack.com/p/the-beginners-guide-to-databases).

Außerdem [Awesome MySQL](https://github.com/shlomi-noach/awesome-mysql), eine Goldgrube für die Arbeit mit MySQL.




---
# Weshalb Datenbanken im Verwaltungskontext wichtig sind

&lt;div align="center"&gt;
&lt;img src="../pics/excel-error-paper-2.jpeg" height="500"/&gt;
&lt;img src="../pics/excel-error-paper.png" height="500"/&gt;
&lt;/div&gt;

Eine [Fallstudie der City University London](https://blogs.city.ac.uk/cityshortcourses/2020/10/13/what-really-caused-the-excel-error-in-nhs-test-and-trace-covid-19-system-an-in-depth-technical-analysis/) zu dem Vorfall.



---
# Weshalb SQL-Skills wichtig sind

.pull-left-center[
&lt;div align="center"&gt;
&lt;br&gt;
&lt;img src="../pics/fb-socsci1-1.png" width="550"/&gt;
&lt;img src="../pics/fb-socsci1-2.png" width="550"/&gt;
&lt;img src="../pics/fb-socsci1-3.png" width="550"/&gt;
&lt;/div&gt;
`Source` [Washington Post](https://www.washingtonpost.com/technology/2021/09/10/facebook-error-data-social-scientists/)
]


.pull-right-center[
&lt;div align="center"&gt;
&lt;br&gt;
&lt;img src="../pics/fb-socsci1-4.png" width="450"/&gt;
&lt;img src="../pics/fb-socsci1-5.png" width="450"/&gt;
&lt;/div&gt;
`Source` [Solomon Messing / Twitter](https://twitter.com/solomonmg/status/1436742352039669760)
]


---
class: inverse, center, middle
name: ogd

# Open Government Data
&lt;html&gt;&lt;div style='float:left'&gt;&lt;/div&gt;&lt;hr color='#EB811B' size=1px style="width:1000px; margin:auto;"/&gt;&lt;/html&gt;

---
# Open Government Data: Definition und Historie

.pull-left-wide[
### Was sind Open Government Data (OGD)?
- **Definition:** Daten, die von öffentlichen Stellen bereitgestellt und zur freien Nutzung offen zugänglich sind.  
- **Kernprinzipien:**
  - **Kostenfreier Zugang**, **Maschinenlesbarkeit**
  - **Offene Formate** (z. B. CSV, JSON, GeoJSON)
  - **Offene Lizenzen** (z. B. [Datenlizenz Deutschland](https://www.govdata.de/informationen/lizenzen), CC BY)

### Historische Entwicklung
- **International:**
  - 2009: Start von *data.gov* (USA)
  - 2010: *data.gov.uk* (UK)
- **Deutschland:**
  - 2013: Start von [GovData.de](https://www.govdata.de/)
  - 2017/2021: [Open-Data-Gesetz](https://www.bmi.bund.de/DE/themen/moderne-verwaltung/open-government/open-data/open-data-node.html) (§ 12a Open Data Gesetz)
  - 2023: Ausbau durch [Data Act](https://bmds.bund.de/themen/digitale-wirtschaft/data-act) und Datenstrategie der Bundesregierung
]

.pull-right-small[
&lt;br&gt;
&lt;div align="center"&gt;
&lt;img src="../pics/berlin-portal.png" height="450"/&gt;
&lt;/div&gt;
]


---
# DCAT-AP.de: Standard für offene Verwaltungsdaten

.pull-left[
### Was ist DCAT-AP.de?
- **DCAT-AP.de** ist das **deutsche Anwendungsprofil** des europäischen Metadatenstandards **DCAT-AP (Data Catalog Vocabulary – Application Profile)**.  
- Ziel: Einheitliche **Beschreibung, Austausch und Auffindbarkeit** von offenen Verwaltungsdaten.  
- Entwickelt von **GovData**, **BMI**, **FITKO** und **KoSIT**.
]

.pull-right[
### Warum wichtig?
- Schafft **Interoperabilität** zwischen Datenportalen in Bund, Ländern und Kommunen.  
- Ermöglicht **automatische Aggregation** von Datensätzen auf Portalen wie *GovData.de* oder *European Data Portal*.  
- Grundlage für **maschinenlesbare Metadaten**
]

### Beispiel: DCAT-AP.de-Metadatenstruktur (vereinfacht)
```yaml
dcat:Dataset:
  dct:title: "Baustellen Hamburg 2025"
  dct:description: "Offene Daten zu aktuellen Baustellen im Stadtgebiet Hamburg"
  dct:publisher: "Freie und Hansestadt Hamburg, Behörde für Verkehr"
  dct:license: "Datenlizenz Deutschland – Namensnennung 2.0"
  dcat:distribution:
    - dcat:accessURL: "https://suche.transparenz.hamburg.de/dataset/baustellen-2025"
      dct:format: "CSV"
      dcat:downloadURL: "https://daten.hamburg.de/baustellen.csv"
```


---
# Bedeutung von OGD heute

### Chancen
- **Transparenz &amp; Vertrauen:** Nachvollziehbare Entscheidungsprozesse.  
- **Innovation:** Grundlage für datenbasierte Dienstleistungen (z. B. Chatbots, Analysen).  
- **Kollaboration:** Kooperation zwischen Verwaltung, Forschung, Zivilgesellschaft.

### Herausforderungen
- **Qualität &amp; Aktualität:** Viele Datensätze sind veraltet oder unvollständig.  
- **Fragmentierung:** Unterschiedliche Standards, viele kleine Portale.  
- **Nachnutzbarkeit:** Fehlende Dokumentation, unklare Lizenzierung.  
- **Personelle Kapazitäten:** Open Data oft „Nebenprojekt“ ohne langfristige Betreuung.

### OGD im Daten-Workflow denken
1. **Erhebung:** Welche Verwaltungsdaten können proaktiv offen bereitgestellt werden?  
2. **Verarbeitung:** Wie lassen sich OGD mit internen Daten kombinieren (z. B. über APIs)?  
3. **Analyse:** Welche Mehrwerte entstehen durch Verknüpfung (z. B. Lagebilder, Prognosen)?  
4. **Kommunikation:** Ergebnisse öffentlich rückspiegeln – *Open by Default, Secure by Design.*



---
class: inverse, center, middle
name: workflow

# Daten-Workflow in der Behörde
&lt;html&gt;&lt;div style='float:left'&gt;&lt;/div&gt;&lt;hr color='#EB811B' size=1px style="width:1000px; margin:auto;"/&gt;&lt;/html&gt;




---
# Fallstudie: Der Akten-Chatbot — Worum geht es?

.pull-left[
## Ziel

Mitarbeitende sollen **schnell, verständlich und transparent** Antworten aus Akten erhalten. Der Chatbot:  
- durchsucht **Metadaten** und **Dokumente** (PDF, Word).  
- fasst Inhalte **in Klartext** zusammen.  
- zeigt **genau an**, **woher** die Information stammt (Akte/Seite/Abschnitt, Link).  
- respektiert **Zugriffsrechte** (nur sehen, was erlaubt ist).

## Typische Fragen 
- *„Wie ist der aktuelle Genehmigungsstand Fall X?“*  
- *„Welche Auflagen wurden im Bescheid vom 12.04.2024 gemacht?“*  
- *„Bitte die wichtigsten Änderungen der letzten 30 Tage zu Vorgang Y.“*  
]

.pull-right[
&lt;br&gt;
&lt;div align="center"&gt;
&lt;br&gt;
&lt;img src="../pics/classification-bot.jpeg" height=350&gt;
&lt;/div&gt;
]

---
name: workflow-ueberblick
# Der Daten-Workflow in der Behörde — End-to-End

.pull-left[
**1) Bedarf klären**  
Welche Fragen soll der Chatbot beantworten? Welche Akten &amp; Felder sind relevant?

**2) Daten gewinnen**  
Metadaten aus Fachverfahren, Dokumente aus Dateiablagen, optional OGD-Ressourcen.

**3) Qualität sichern**  
Plausibilitäten, Duplikate, Dateiformate, fehlende Felder — **automatisiert prüfen**.

**4) Speichern &amp; Zugreifen**  
Rohdaten im Staging, kuratierte Sichten für Suche &amp; Antworten.
]

.pull-right[
**5) Analysieren &amp; aufbereiten**  
Indizes/Embeddings für Suche, SQL-Views für Kennzahlen, Regeln für Zitate.

**6) Bereitstellen**  
Interne API für den Chatbot; optional Veröffentlichung ausgewählter Daten als Open Data.

**7) Betreiben &amp; verbessern**  
Monitoring, Nutzungsfeedback, Änderungslog, regelmäßige DMP-Updates.
]


---
name: dmp-einfach
# Datenmanagementplan (DMP) — kurz &amp; alltagstauglich

.pull-left[
## Wozu?  
Der DMP ist die **Betriebsanleitung** für Daten: Was liegt wo, warum, wer darf was, welche Regeln gelten?  
**Nutzen**: Nachvollziehbarkeit, Rechtssicherheit (DSGVO), Qualität, Wiederverwendung.

## Was muss rein? (Chatbot-Kontext) 
- **Bestand**: Akten-Metadaten, Dokumente, Zugriffsrechte.  
- **Rechtslage**: Zweckbindung, Löschfristen, Veröffentlichung.  
- **Struktur**: Tabellenfelder, Dateiformate, Versionierung.  
- **Metadaten**: Titel, Beschreibung, Lizenz, Kontakt (DCAT-AP.de, wo sinnvoll).  
- **Veröffentlichung**: Was bleibt intern? Was kann auf's Portal?
]

.pull-right[
## DMP-Checkliste für den Chatbot

- **Rollen**: Data Owner (Fachbereich), Data Steward (Qualität/Metadaten), Plattform-Team (Betrieb), Datenschutz.  
- **Datenfluss**: Wie kommen neue Akten/Dokumente ins System? (Rhythmus, Verantwortliche)  
- **Qualität**: Mindestfelder, Pflicht-Metadaten, Prüfregeln (z. B. Datum, Aktenzeichen).  
- **Rechte**: Wer sieht welche Akten? (RBAC/ABAC)  
- **Transparenz**: Wie werden **Quellenangaben** im Chatbot erzeugt und getestet?  
- **Schnittstellen**: Interne API, optional Open-Data-Publikation.
]


---
name: infra-bausteine
# Infrastruktur — was braucht der Chatbot wirklich?

.pull-left[
## Speichern  
- **PostgreSQL** (Metadaten, Rechte, kuratierte Sichten)  
- **Objektspeicher** (PDF/Scans)  
- **Suchindex/Embeddings** (schnelle Textsuche)

## Verarbeiten
- **Pipelines** (Airflow/Prefect/GitHub Actions) für Import, Qualität, Aktualisierung  
- **Transformationen** in DB (SQL/dbt) — nachvollziehbar &amp; versioniert  
- **API** (REST) für den Chatbot + **Audit-Logs**
]

.pull-right[
## ETL (Extract → Transform → Load)
- Vor dem Laden wird stark bereinigt/vereinfacht.  
- **Gut**, wenn Quellsysteme sehr uneinheitlich sind und zuerst „aufgeräumt“ werden muss.  
- **Risiko**: Details gehen verloren, Nachvollziehbarkeit sinkt.

## ELT (Extract → Load → Transform) 
- **Alles erst laden**, dann **im Zielsystem** aufbereiten (SQL, dbt).  
- **Vorteil**: Rohdaten bleiben erhalten, bessere Reproduzierbarkeit.  
- **Für den Chatbot** ideal: verschiedene Sichten für Suche, Antworten, Open Data.
]

---
name: elt-pipeline
# ELT-Pipeline — Schritt für Schritt (Chatbot)

1. **Extract**: Neue/aktualisierte Akten-Metadaten + Dokument-Verweise abholen (APIs, Dateifreigaben).  
2. **Load**: Rohdaten unverändert ins Staging (DB + Objektspeicher).  
3. **Transform**:  
   - **Kuratierte Tabellen/Views** für Suche &amp; Antworten (z. B. `akten_kern`, `dokumente_index`).  
   - **Qualitätsprüfungen** (Plausibilitäten, Pflichtfelder).  
   - **Provenienzfelder** für transparente Quellenangabe.  
4. **Serve**: Interne API für den Chatbot (Fragen rein → Antwort + **Quellnachweise** raus).  
5. **Publish (optional)**: Freigegebene Tabellen automatisiert ans Open-Data-Portal.

---
name: transparenz
# Transparenz im Chatbot — wie entstehen Quellenangaben?

.pull-left[
**Prinzip**  
Jede Antwort enthält **Zitate** mit: *Akte*, *Dokument*, *Seite/Abschnitt*, *Zeitstempel*, *Link* (oder Pfad).  
So können Mitarbeitende die Antwort **prüfen** und im Original **nachlesen**.
]

.pull-right[
**Umsetzung**  
- Beim Zusammenstellen der Antwort werden die **Trefferstellen** (IDs, Seiten) mitgegeben.  
- In der DB gibt es **Provenienz-Spalten** (z. B. `quelle_dokument_id`, `quelle_seite`).  
- Die API liefert Antwort + **Liste der Quellen**; der Chatbot rendert diese als Fußnoten/Box.
]


---
name: qualitaet-betrieb
# Qualität &amp; Betrieb — pragmatisch geregelt

- **Tests**: Pflichtfelder, Wertebereiche, eindeutige Aktenzeichen; automatisiert in der Pipeline.  
- **Versionierung**: SemVer für Sichten/Modelle, **Änderungslog** (Was hat sich geändert? Warum?).  
- **Monitoring**: Ladezeiten, Fehlerraten, API-Verfügbarkeit, Suchqualität (Treffergenauigkeit).  
- **Support**: Kontaktadresse, Ticket-Prozess, Reaktionszeiten.  
- **Datenschutz**: Zugriffsebenen prüfbar (Audit-Logs), Löschfristen automatisiert.

---
name: rollout
# Rollout-Plan in kleinen, sicheren Schritten

1. **Pilot** mit einem Fachbereich (begrenzter Aktenbestand).  
2. **Such-Chat** nur auf **Metadaten** → frühes Feedback zur Treffqualität.  
3. **Dokumenteinbindung** (Auszüge) + **Quellenbox** in Antworten.  
4. **Rechteprüfung** vor Anzeige; Schulung &amp; Leitfaden.  
5. **Skalierung** auf weitere Bereiche; OGD-Teilmengen veröffentlichen.


---
class: inverse, center, middle

# Beispiele aus Eurer Praxis!
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
  "highlightStyle": "github",
  "highlightLines": true,
  "countIncrementalSlides": false,
  "ratio": "16:9",
  "hash": true
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>
<style>
  .logo {
    background-image: url("../hertieschool-neg.svg");
    background-size: contain;
    background-repeat: no-repeat;
    position: absolute;
    top: 1.5em;
    right: 1em;
    width: 150px;
    height: 128px;
    z-index: 0;
  }
</style>
  
  <script>
  document
.querySelectorAll(
  '.remark-slide-content' +
    ':not(.title-slide)' +
    ':not(.inverse)' +
	
    // add additional classes to exclude here, e.g.
  // ':not(.inverse)' +
    ':not(.hide-logo)'
)
.forEach(el => {
  el.innerHTML += '<div class="logo"></div>';
});
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
